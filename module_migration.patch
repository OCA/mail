From adc7d79354e3d56a8dfee152e7228f46be77ce41 Mon Sep 17 00:00:00 2001
From: Holger Brunn <hbrunn@therp.nl>
Date: Thu, 1 Mar 2018 16:50:54 +0100
Subject: [ADD] mail_autogenerated_header

---
 mail_autogenerated_header/README.rst          |  87 ++++
 mail_autogenerated_header/__init__.py         |   4 +
 mail_autogenerated_header/__manifest__.py     |  14 +
 mail_autogenerated_header/models/__init__.py  |   6 +
 .../models/ir_mail_server.py                  |  55 +++
 .../models/mail_thread.py                     |  34 ++
 .../models/res_partner.py                     |  24 +
 .../readme/CONTRIBUTORS.rst                   |   1 +
 .../readme/DESCRIPTION.rst                    |   5 +
 mail_autogenerated_header/readme/USAGE.rst    |   5 +
 .../readme/newsfragments/.gitkeep             |   0
 .../static/description/icon.png               | Bin 0 -> 9455 bytes
 .../static/description/index.html             | 431 ++++++++++++++++++
 mail_autogenerated_header/tests/__init__.py   |   4 +
 .../tests/test_mail_autogenerated_header.py   |  63 +++
 15 files changed, 733 insertions(+)
 create mode 100644 mail_autogenerated_header/README.rst
 create mode 100644 mail_autogenerated_header/__init__.py
 create mode 100644 mail_autogenerated_header/__manifest__.py
 create mode 100644 mail_autogenerated_header/models/__init__.py
 create mode 100644 mail_autogenerated_header/models/ir_mail_server.py
 create mode 100644 mail_autogenerated_header/models/mail_thread.py
 create mode 100644 mail_autogenerated_header/models/res_partner.py
 create mode 100644 mail_autogenerated_header/readme/CONTRIBUTORS.rst
 create mode 100644 mail_autogenerated_header/readme/DESCRIPTION.rst
 create mode 100644 mail_autogenerated_header/readme/USAGE.rst
 create mode 100644 mail_autogenerated_header/readme/newsfragments/.gitkeep
 create mode 100644 mail_autogenerated_header/static/description/icon.png
 create mode 100644 mail_autogenerated_header/static/description/index.html
 create mode 100644 mail_autogenerated_header/tests/__init__.py
 create mode 100644 mail_autogenerated_header/tests/test_mail_autogenerated_header.py

diff --git a/mail_autogenerated_header/README.rst b/mail_autogenerated_header/README.rst
new file mode 100644
index 000000000..d0d6f1055
--- /dev/null
+++ b/mail_autogenerated_header/README.rst
@@ -0,0 +1,87 @@
+=====================
+Autogenerated headers
+=====================
+
+.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+   !! This file is generated by oca-gen-addon-readme !!
+   !! changes will be overwritten.                   !!
+   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+
+.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
+    :target: https://odoo-community.org/page/development-status
+    :alt: Beta
+.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
+    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
+    :alt: License: AGPL-3
+.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github
+    :target: https://github.com/OCA/social/tree/12.0/mail_autogenerated_header
+    :alt: OCA/social
+.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
+    :target: https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header
+    :alt: Translate me on Weblate
+.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
+    :target: https://runbot.odoo-community.org/runbot/205/12.0
+    :alt: Try me on Runbot
+
+|badge1| |badge2| |badge3| |badge4| |badge5|
+
+This module was written to mark Odoo's emails as being autogenerated according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`_, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.
+
+On the receiving side, this module drops all notifications for autogenerated incoming e-mails.
+
+The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.
+
+**Table of contents**
+
+.. contents::
+   :local:
+
+Usage
+=====
+
+There's nothing the user has to do. Developers can set the context flag
+``mail_autogenerated_header_disable`` in calls to ``send_email`` in order to
+suppress adding any headers at all, and override
+``_message_route_process_autoreply`` to fine tune dropping autogenerated mails
+per model.
+
+Bug Tracker
+===========
+
+Bugs are tracked on `GitHub Issues <https://github.com/OCA/social/issues>`_.
+In case of trouble, please check there if your issue has already been reported.
+If you spotted it first, help us smashing it by providing a detailed and welcomed
+`feedback <https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+
+Do not contact contributors directly about support or help with technical issues.
+
+Credits
+=======
+
+Authors
+~~~~~~~
+
+* Hunki Enterprises BV
+* Therp BV
+
+Contributors
+~~~~~~~~~~~~
+
+* Holger Brunn <mail@hunki-enterprises.com> (https://hunki-enterprises.com)
+
+Maintainers
+~~~~~~~~~~~
+
+This module is maintained by the OCA.
+
+.. image:: https://odoo-community.org/logo.png
+   :alt: Odoo Community Association
+   :target: https://odoo-community.org
+
+OCA, or the Odoo Community Association, is a nonprofit organization whose
+mission is to support the collaborative development of Odoo features and
+promote its widespread use.
+
+This module is part of the `OCA/social <https://github.com/OCA/social/tree/12.0/mail_autogenerated_header>`_ project on GitHub.
+
+You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
diff --git a/mail_autogenerated_header/__init__.py b/mail_autogenerated_header/__init__.py
new file mode 100644
index 000000000..ffe1a38a3
--- /dev/null
+++ b/mail_autogenerated_header/__init__.py
@@ -0,0 +1,4 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from . import models
diff --git a/mail_autogenerated_header/__manifest__.py b/mail_autogenerated_header/__manifest__.py
new file mode 100644
index 000000000..b79adfa47
--- /dev/null
+++ b/mail_autogenerated_header/__manifest__.py
@@ -0,0 +1,14 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+{
+    "name": "Autogenerated headers",
+    "version": "12.0.1.0.0",
+    "author": "Hunki Enterprises BV, Therp BV,Odoo Community Association (OCA)",
+    "license": "AGPL-3",
+    "category": "Tools",
+    "summary": "Add headers to Odoo's mails indicating they are autogenerated",
+    "depends": [
+        'mail',
+    ],
+}
diff --git a/mail_autogenerated_header/models/__init__.py b/mail_autogenerated_header/models/__init__.py
new file mode 100644
index 000000000..af47c23c8
--- /dev/null
+++ b/mail_autogenerated_header/models/__init__.py
@@ -0,0 +1,6 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from . import ir_mail_server
+from . import mail_thread
+from . import res_partner
diff --git a/mail_autogenerated_header/models/ir_mail_server.py b/mail_autogenerated_header/models/ir_mail_server.py
new file mode 100644
index 000000000..badde4408
--- /dev/null
+++ b/mail_autogenerated_header/models/ir_mail_server.py
@@ -0,0 +1,55 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from odoo import api, models
+
+
+class IrMailServer(models.Model):
+    _inherit = 'ir.mail_server'
+
+    @api.model
+    def send_email(
+        self, message, mail_server_id=None, smtp_server=None, smtp_port=None,
+        smtp_user=None, smtp_password=None, smtp_encryption=None,
+        smtp_debug=False, smtp_session=None,
+    ):
+        """ Inject autogenerated header for autogoing mails """
+
+        if not self.env.context.get('mail_autogenerated_header_disable') and\
+                self._send_email_set_autogenerated(
+                    message, mail_server_id=mail_server_id,
+                    smtp_server=smtp_server, smtp_port=smtp_port,
+                    smtp_user=smtp_user, smtp_password=smtp_password,
+                    smtp_encryption=smtp_encryption, smtp_debug=smtp_debug,
+                    smtp_session=smtp_session,
+                ):
+            # MS Exchange's broken version as of
+            # http://blogs.technet.com/b/exchange/archive/2006/10/06/
+            # 3395024.aspx
+            message['Precedence'] = 'bulk'
+            message['X-Auto-Response-Suppress'] = 'OOF'
+            # The right way to do it as of
+            # https://tools.ietf.org/html/rfc3834
+            message['Auto-Submitted'] = 'auto-generated'
+
+        return super(IrMailServer, self).send_email(
+            message, mail_server_id=mail_server_id, smtp_server=smtp_server,
+            smtp_port=smtp_port, smtp_user=smtp_user,
+            smtp_password=smtp_password, smtp_encryption=smtp_encryption,
+            smtp_debug=smtp_debug, smtp_session=smtp_session,
+        )
+
+    @api.model
+    def _send_email_set_autogenerated(
+        self, message, mail_server_id=None, smtp_server=None, smtp_port=None,
+        smtp_user=None, smtp_password=None, smtp_encryption=None,
+        smtp_debug=False, smtp_session=None,
+    ):
+        """Determine if some mail should have the autogenerated headers"""
+
+        mail = self.env['mail.mail'].search([
+            ('message_id', '=', message['Message-Id']),
+        ])
+        if not mail:
+            return False
+        return mail.subtype_id != self.env.ref('mail.mt_comment')
diff --git a/mail_autogenerated_header/models/mail_thread.py b/mail_autogenerated_header/models/mail_thread.py
new file mode 100644
index 000000000..0fc5c6a87
--- /dev/null
+++ b/mail_autogenerated_header/models/mail_thread.py
@@ -0,0 +1,34 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+import logging
+from odoo import api, models
+_logger = logging.getLogger(__name__)
+
+
+class MailThread(models.AbstractModel):
+    _inherit = 'mail.thread'
+
+    @api.model
+    def message_route_process(self, message, message_dict, routes):
+        """ Set context key to suppress notification for autogenerated incoming
+        mails """
+        if self._message_route_process_autoreply(message, message_dict, routes):
+            _logger.info(
+                'Ignoring email %s from %s because it seems to be an auto '
+                'reply', message.get('Message-ID'), message.get('From'),
+            )
+            self = self.with_context(mail_autogenerated_header=message)
+        return super(MailThread, self).message_route_process(
+            message, message_dict, routes,
+        )
+
+    @api.model
+    def _message_route_process_autoreply(self, message, message_dict, routes):
+        """ Determine if some message is an autoreply """
+        return (
+            message['Auto-Submitted'] and message['Auto-Submitted'] != 'no' or
+            message['X-Auto-Response-Suppress'] and set(
+                message['X-Auto-Response-Suppress'].split(', ')
+            ) & set('AutoReply', 'All')
+        )
diff --git a/mail_autogenerated_header/models/res_partner.py b/mail_autogenerated_header/models/res_partner.py
new file mode 100644
index 000000000..ff276ca67
--- /dev/null
+++ b/mail_autogenerated_header/models/res_partner.py
@@ -0,0 +1,24 @@
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from odoo import api, models
+
+
+class ResPartner(models.Model):
+    _inherit = 'res.partner'
+
+    @api.model
+    def _notify(
+            self, message, rdata, record, force_send=False,
+            send_after_commit=True, model_description=False,
+            mail_auto_delete=True,
+    ):
+        """ Inhibit notifications if this is the notification for an incoming
+        autogenerated mail from another system """
+        if self.env.context.get('mail_autogenerated_header'):
+            return True
+        return super()._notify(
+            message, rdata, record, force_send=force_send,
+            send_after_commit=send_after_commit,
+            model_description=model_description,
+            mail_auto_delete=mail_auto_delete,
+        )
diff --git a/mail_autogenerated_header/readme/CONTRIBUTORS.rst b/mail_autogenerated_header/readme/CONTRIBUTORS.rst
new file mode 100644
index 000000000..33b6eb2c3
--- /dev/null
+++ b/mail_autogenerated_header/readme/CONTRIBUTORS.rst
@@ -0,0 +1 @@
+* Holger Brunn <mail@hunki-enterprises.com> (https://hunki-enterprises.com)
diff --git a/mail_autogenerated_header/readme/DESCRIPTION.rst b/mail_autogenerated_header/readme/DESCRIPTION.rst
new file mode 100644
index 000000000..bda994624
--- /dev/null
+++ b/mail_autogenerated_header/readme/DESCRIPTION.rst
@@ -0,0 +1,5 @@
+This module was written to mark Odoo's emails as being autogenerated according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`_, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.
+
+On the receiving side, this module drops all notifications for autogenerated incoming e-mails.
+
+The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.
diff --git a/mail_autogenerated_header/readme/USAGE.rst b/mail_autogenerated_header/readme/USAGE.rst
new file mode 100644
index 000000000..8412aba96
--- /dev/null
+++ b/mail_autogenerated_header/readme/USAGE.rst
@@ -0,0 +1,5 @@
+There's nothing the user has to do. Developers can set the context flag
+``mail_autogenerated_header_disable`` in calls to ``send_email`` in order to
+suppress adding any headers at all, and override
+``_message_route_process_autoreply`` to fine tune dropping autogenerated mails
+per model.
diff --git a/mail_autogenerated_header/readme/newsfragments/.gitkeep b/mail_autogenerated_header/readme/newsfragments/.gitkeep
new file mode 100644
index 000000000..e69de29bb
diff --git a/mail_autogenerated_header/static/description/icon.png b/mail_autogenerated_header/static/description/icon.png
new file mode 100644
index 0000000000000000000000000000000000000000..3a0328b516c4980e8e44cdb63fd945757ddd132d
GIT binary patch
literal 9455
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
Xviia!U7SGha1wx#SCgwmn*{w2TRX*I

literal 0
HcmV?d00001

diff --git a/mail_autogenerated_header/static/description/index.html b/mail_autogenerated_header/static/description/index.html
new file mode 100644
index 000000000..0d9d9a598
--- /dev/null
+++ b/mail_autogenerated_header/static/description/index.html
@@ -0,0 +1,431 @@
+<?xml version="1.0" encoding="utf-8" ?>
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
+<meta name="generator" content="Docutils: http://docutils.sourceforge.net/" />
+<title>Autogenerated headers</title>
+<style type="text/css">
+
+/*
+:Author: David Goodger (goodger@python.org)
+:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
+:Copyright: This stylesheet has been placed in the public domain.
+
+Default cascading style sheet for the HTML output of Docutils.
+
+See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
+customize this style sheet.
+*/
+
+/* used to remove borders from tables and images */
+.borderless, table.borderless td, table.borderless th {
+  border: 0 }
+
+table.borderless td, table.borderless th {
+  /* Override padding for "table.docutils td" with "! important".
+     The right padding separates the table cells. */
+  padding: 0 0.5em 0 0 ! important }
+
+.first {
+  /* Override more specific margin styles with "! important". */
+  margin-top: 0 ! important }
+
+.last, .with-subtitle {
+  margin-bottom: 0 ! important }
+
+.hidden {
+  display: none }
+
+.subscript {
+  vertical-align: sub;
+  font-size: smaller }
+
+.superscript {
+  vertical-align: super;
+  font-size: smaller }
+
+a.toc-backref {
+  text-decoration: none ;
+  color: black }
+
+blockquote.epigraph {
+  margin: 2em 5em ; }
+
+dl.docutils dd {
+  margin-bottom: 0.5em }
+
+object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
+  overflow: hidden;
+}
+
+/* Uncomment (and remove this text!) to get bold-faced definition list terms
+dl.docutils dt {
+  font-weight: bold }
+*/
+
+div.abstract {
+  margin: 2em 5em }
+
+div.abstract p.topic-title {
+  font-weight: bold ;
+  text-align: center }
+
+div.admonition, div.attention, div.caution, div.danger, div.error,
+div.hint, div.important, div.note, div.tip, div.warning {
+  margin: 2em ;
+  border: medium outset ;
+  padding: 1em }
+
+div.admonition p.admonition-title, div.hint p.admonition-title,
+div.important p.admonition-title, div.note p.admonition-title,
+div.tip p.admonition-title {
+  font-weight: bold ;
+  font-family: sans-serif }
+
+div.attention p.admonition-title, div.caution p.admonition-title,
+div.danger p.admonition-title, div.error p.admonition-title,
+div.warning p.admonition-title, .code .error {
+  color: red ;
+  font-weight: bold ;
+  font-family: sans-serif }
+
+/* Uncomment (and remove this text!) to get reduced vertical space in
+   compound paragraphs.
+div.compound .compound-first, div.compound .compound-middle {
+  margin-bottom: 0.5em }
+
+div.compound .compound-last, div.compound .compound-middle {
+  margin-top: 0.5em }
+*/
+
+div.dedication {
+  margin: 2em 5em ;
+  text-align: center ;
+  font-style: italic }
+
+div.dedication p.topic-title {
+  font-weight: bold ;
+  font-style: normal }
+
+div.figure {
+  margin-left: 2em ;
+  margin-right: 2em }
+
+div.footer, div.header {
+  clear: both;
+  font-size: smaller }
+
+div.line-block {
+  display: block ;
+  margin-top: 1em ;
+  margin-bottom: 1em }
+
+div.line-block div.line-block {
+  margin-top: 0 ;
+  margin-bottom: 0 ;
+  margin-left: 1.5em }
+
+div.sidebar {
+  margin: 0 0 0.5em 1em ;
+  border: medium outset ;
+  padding: 1em ;
+  background-color: #ffffee ;
+  width: 40% ;
+  float: right ;
+  clear: right }
+
+div.sidebar p.rubric {
+  font-family: sans-serif ;
+  font-size: medium }
+
+div.system-messages {
+  margin: 5em }
+
+div.system-messages h1 {
+  color: red }
+
+div.system-message {
+  border: medium outset ;
+  padding: 1em }
+
+div.system-message p.system-message-title {
+  color: red ;
+  font-weight: bold }
+
+div.topic {
+  margin: 2em }
+
+h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
+h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
+  margin-top: 0.4em }
+
+h1.title {
+  text-align: center }
+
+h2.subtitle {
+  text-align: center }
+
+hr.docutils {
+  width: 75% }
+
+img.align-left, .figure.align-left, object.align-left, table.align-left {
+  clear: left ;
+  float: left ;
+  margin-right: 1em }
+
+img.align-right, .figure.align-right, object.align-right, table.align-right {
+  clear: right ;
+  float: right ;
+  margin-left: 1em }
+
+img.align-center, .figure.align-center, object.align-center {
+  display: block;
+  margin-left: auto;
+  margin-right: auto;
+}
+
+table.align-center {
+  margin-left: auto;
+  margin-right: auto;
+}
+
+.align-left {
+  text-align: left }
+
+.align-center {
+  clear: both ;
+  text-align: center }
+
+.align-right {
+  text-align: right }
+
+/* reset inner alignment in figures */
+div.align-right {
+  text-align: inherit }
+
+/* div.align-center * { */
+/*   text-align: left } */
+
+.align-top    {
+  vertical-align: top }
+
+.align-middle {
+  vertical-align: middle }
+
+.align-bottom {
+  vertical-align: bottom }
+
+ol.simple, ul.simple {
+  margin-bottom: 1em }
+
+ol.arabic {
+  list-style: decimal }
+
+ol.loweralpha {
+  list-style: lower-alpha }
+
+ol.upperalpha {
+  list-style: upper-alpha }
+
+ol.lowerroman {
+  list-style: lower-roman }
+
+ol.upperroman {
+  list-style: upper-roman }
+
+p.attribution {
+  text-align: right ;
+  margin-left: 50% }
+
+p.caption {
+  font-style: italic }
+
+p.credits {
+  font-style: italic ;
+  font-size: smaller }
+
+p.label {
+  white-space: nowrap }
+
+p.rubric {
+  font-weight: bold ;
+  font-size: larger ;
+  color: maroon ;
+  text-align: center }
+
+p.sidebar-title {
+  font-family: sans-serif ;
+  font-weight: bold ;
+  font-size: larger }
+
+p.sidebar-subtitle {
+  font-family: sans-serif ;
+  font-weight: bold }
+
+p.topic-title {
+  font-weight: bold }
+
+pre.address {
+  margin-bottom: 0 ;
+  margin-top: 0 ;
+  font: inherit }
+
+pre.literal-block, pre.doctest-block, pre.math, pre.code {
+  margin-left: 2em ;
+  margin-right: 2em }
+
+pre.code .ln { color: grey; } /* line numbers */
+pre.code, code { background-color: #eeeeee }
+pre.code .comment, code .comment { color: #5C6576 }
+pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
+pre.code .literal.string, code .literal.string { color: #0C5404 }
+pre.code .name.builtin, code .name.builtin { color: #352B84 }
+pre.code .deleted, code .deleted { background-color: #DEB0A1}
+pre.code .inserted, code .inserted { background-color: #A3D289}
+
+span.classifier {
+  font-family: sans-serif ;
+  font-style: oblique }
+
+span.classifier-delimiter {
+  font-family: sans-serif ;
+  font-weight: bold }
+
+span.interpreted {
+  font-family: sans-serif }
+
+span.option {
+  white-space: nowrap }
+
+span.pre {
+  white-space: pre }
+
+span.problematic {
+  color: red }
+
+span.section-subtitle {
+  /* font-size relative to parent (h1..h6 element) */
+  font-size: 80% }
+
+table.citation {
+  border-left: solid 1px gray;
+  margin-left: 1px }
+
+table.docinfo {
+  margin: 2em 4em }
+
+table.docutils {
+  margin-top: 0.5em ;
+  margin-bottom: 0.5em }
+
+table.footnote {
+  border-left: solid 1px black;
+  margin-left: 1px }
+
+table.docutils td, table.docutils th,
+table.docinfo td, table.docinfo th {
+  padding-left: 0.5em ;
+  padding-right: 0.5em ;
+  vertical-align: top }
+
+table.docutils th.field-name, table.docinfo th.docinfo-name {
+  font-weight: bold ;
+  text-align: left ;
+  white-space: nowrap ;
+  padding-left: 0 }
+
+/* "booktabs" style (no vertical lines) */
+table.docutils.booktabs {
+  border: 0px;
+  border-top: 2px solid;
+  border-bottom: 2px solid;
+  border-collapse: collapse;
+}
+table.docutils.booktabs * {
+  border: 0px;
+}
+table.docutils.booktabs th {
+  border-bottom: thin solid;
+  text-align: left;
+}
+
+h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
+h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
+  font-size: 100% }
+
+ul.auto-toc {
+  list-style-type: none }
+
+</style>
+</head>
+<body>
+<div class="document" id="autogenerated-headers">
+<h1 class="title">Autogenerated headers</h1>
+
+<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+!! This file is generated by oca-gen-addon-readme !!
+!! changes will be overwritten.                   !!
+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
+<p><a class="reference external" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external" href="https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external" href="https://runbot.odoo-community.org/runbot/205/12.0"><img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png" /></a></p>
+<p>This module was written to mark Odoo’s emails as being autogenerated according to <a class="reference external" href="https://tools.ietf.org/html/rfc3834">RFC 3834</a>, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.</p>
+<p>On the receiving side, this module drops all notifications for autogenerated incoming e-mails.</p>
+<p>The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.</p>
+<p><strong>Table of contents</strong></p>
+<div class="contents local topic" id="contents">
+<ul class="simple">
+<li><a class="reference internal" href="#usage" id="id1">Usage</a></li>
+<li><a class="reference internal" href="#bug-tracker" id="id2">Bug Tracker</a></li>
+<li><a class="reference internal" href="#credits" id="id3">Credits</a><ul>
+<li><a class="reference internal" href="#authors" id="id4">Authors</a></li>
+<li><a class="reference internal" href="#contributors" id="id5">Contributors</a></li>
+<li><a class="reference internal" href="#maintainers" id="id6">Maintainers</a></li>
+</ul>
+</li>
+</ul>
+</div>
+<div class="section" id="usage">
+<h1><a class="toc-backref" href="#id1">Usage</a></h1>
+<p>There’s nothing the user has to do. Developers can set the context flag
+<tt class="docutils literal">mail_autogenerated_header_disable</tt> in calls to <tt class="docutils literal">send_email</tt> in order to
+suppress adding any headers at all, and override
+<tt class="docutils literal">_message_route_process_autoreply</tt> to fine tune dropping autogenerated mails
+per model.</p>
+</div>
+<div class="section" id="bug-tracker">
+<h1><a class="toc-backref" href="#id2">Bug Tracker</a></h1>
+<p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/social/issues">GitHub Issues</a>.
+In case of trouble, please check there if your issue has already been reported.
+If you spotted it first, help us smashing it by providing a detailed and welcomed
+<a class="reference external" href="https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
+<p>Do not contact contributors directly about support or help with technical issues.</p>
+</div>
+<div class="section" id="credits">
+<h1><a class="toc-backref" href="#id3">Credits</a></h1>
+<div class="section" id="authors">
+<h2><a class="toc-backref" href="#id4">Authors</a></h2>
+<ul class="simple">
+<li>Hunki Enterprises BV</li>
+<li>Therp BV</li>
+</ul>
+</div>
+<div class="section" id="contributors">
+<h2><a class="toc-backref" href="#id5">Contributors</a></h2>
+<ul class="simple">
+<li>Holger Brunn &lt;<a class="reference external" href="mailto:mail&#64;hunki-enterprises.com">mail&#64;hunki-enterprises.com</a>&gt; (<a class="reference external" href="https://hunki-enterprises.com">https://hunki-enterprises.com</a>)</li>
+</ul>
+</div>
+<div class="section" id="maintainers">
+<h2><a class="toc-backref" href="#id6">Maintainers</a></h2>
+<p>This module is maintained by the OCA.</p>
+<a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
+<p>OCA, or the Odoo Community Association, is a nonprofit organization whose
+mission is to support the collaborative development of Odoo features and
+promote its widespread use.</p>
+<p>This module is part of the <a class="reference external" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header">OCA/social</a> project on GitHub.</p>
+<p>You are welcome to contribute. To learn how please visit <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>.</p>
+</div>
+</div>
+</div>
+</body>
+</html>
diff --git a/mail_autogenerated_header/tests/__init__.py b/mail_autogenerated_header/tests/__init__.py
new file mode 100644
index 000000000..b707cdfc9
--- /dev/null
+++ b/mail_autogenerated_header/tests/__init__.py
@@ -0,0 +1,4 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from . import test_mail_autogenerated_header
diff --git a/mail_autogenerated_header/tests/test_mail_autogenerated_header.py b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
new file mode 100644
index 000000000..5754e87d7
--- /dev/null
+++ b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
@@ -0,0 +1,63 @@
+# Copyright 2018 Therp BV <https://therp.nl>
+# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
+# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
+from odoo.tests.common import TransactionCase
+from odoo.tools.mail import generate_tracking_message_id
+
+
+class TestMailAutogeneratedHeader(TransactionCase):
+    def setUp(self):
+        super().setUp()
+        self.mail = self.env['mail.mail'].create({
+            'subject': 'testmessage',
+            'email_from': 'test@test.com',
+            'email_to': 'test@test.com',
+            'message_id': 'message_id',
+        })
+        self.message = self.env['ir.mail_server'].build_email(
+            [self.mail.email_from], [self.mail.email_to], self.mail.subject, '',
+            message_id=self.mail.message_id,
+        )
+
+    def test_sending(self):
+        """ Test that sending a mail has the Auto-Submitted header """
+        self.env['ir.mail_server'].send_email(self.message)
+        self.assertEqual(self.message['Auto-Submitted'], 'auto-generated')
+
+    def test_receiving(self):
+        """ Test that receiving mails with some auto submitted marker won't
+        cause new notifications being sent """
+        demo_user = self.env.ref('base.user_demo')
+        self.message.replace_header(
+            'Message-Id', generate_tracking_message_id(42),
+        )
+        partner_id = self.env['mail.thread'].message_process(
+            'res.partner', self.message.as_string(),
+        )
+        partner = self.env['res.partner'].browse(partner_id)
+        partner.message_subscribe(partner_ids=demo_user.partner_id.ids)
+        reply = self.message
+        reply['References'] = self.message['Message-Id']
+        reply.replace_header('Message-Id', 'message_id3')
+        thread_id = self.env['mail.thread'].message_process(
+            'res.partner', reply.as_string(),
+        )
+        self.assertEqual(thread_id, partner.id)
+        notifications = self.env['mail.notification'].search([
+            ('res_partner_id', '=', demo_user.partner_id.id)
+        ])
+        # mail is not autogenerated, should have generated mails
+        self.assertTrue(notifications.is_email)
+        notifications.unlink()
+
+        reply.replace_header('Message-Id', 'message_id4')
+        reply['Auto-Submitted'] = 'auto-generated'
+        thread_id = self.env['mail.thread'].message_process(
+            'res.partner', reply.as_string(),
+        )
+        self.assertEqual(thread_id, partner.id)
+        notifications = self.env['mail.notification'].search([
+            ('res_partner_id', '=', demo_user.partner_id.id)
+        ])
+        # mail is autogenerated, shouldn't have generated mails
+        self.assertFalse(notifications.is_email)
--
2.34.1


From 5a65ea613753850c4e3e6cbdde17ef66585dc24f Mon Sep 17 00:00:00 2001
From: oca-travis <oca+oca-travis@odoo-community.org>
Date: Thu, 20 Oct 2022 19:30:18 +0000
Subject: [UPD] Update mail_autogenerated_header.pot

---
 .../i18n/mail_autogenerated_header.pot        | 30 +++++++++++++++++++
 1 file changed, 30 insertions(+)
 create mode 100644 mail_autogenerated_header/i18n/mail_autogenerated_header.pot

diff --git a/mail_autogenerated_header/i18n/mail_autogenerated_header.pot b/mail_autogenerated_header/i18n/mail_autogenerated_header.pot
new file mode 100644
index 000000000..af06f59b2
--- /dev/null
+++ b/mail_autogenerated_header/i18n/mail_autogenerated_header.pot
@@ -0,0 +1,30 @@
+# Translation of Odoo Server.
+# This file contains the translation of the following modules:
+#	* mail_autogenerated_header
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: Odoo Server 12.0\n"
+"Report-Msgid-Bugs-To: \n"
+"Last-Translator: <>\n"
+"Language-Team: \n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: \n"
+"Plural-Forms: \n"
+
+#. module: mail_autogenerated_header
+#: model:ir.model,name:mail_autogenerated_header.model_res_partner
+msgid "Contact"
+msgstr ""
+
+#. module: mail_autogenerated_header
+#: model:ir.model,name:mail_autogenerated_header.model_mail_thread
+msgid "Email Thread"
+msgstr ""
+
+#. module: mail_autogenerated_header
+#: model:ir.model,name:mail_autogenerated_header.model_ir_mail_server
+msgid "Mail Server"
+msgstr ""
+
--
2.34.1


From 52b38a0c4bc056e4d332d98dbdb44a8ba3e99f88 Mon Sep 17 00:00:00 2001
From: OCA-git-bot <oca-git-bot@odoo-community.org>
Date: Thu, 20 Oct 2022 19:43:53 +0000
Subject: [UPD] README.rst

---
 mail_autogenerated_header/static/description/index.html | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/mail_autogenerated_header/static/description/index.html b/mail_autogenerated_header/static/description/index.html
index 0d9d9a598..f4263373b 100644
--- a/mail_autogenerated_header/static/description/index.html
+++ b/mail_autogenerated_header/static/description/index.html
@@ -3,7 +3,7 @@
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
-<meta name="generator" content="Docutils: http://docutils.sourceforge.net/" />
+<meta name="generator" content="Docutils 0.15.1: http://docutils.sourceforge.net/" />
 <title>Autogenerated headers</title>
 <style type="text/css">

--
2.34.1


From 306f3be88762ca1b9a753ea22edf79630842d759 Mon Sep 17 00:00:00 2001
From: Tom Blauwendraat <tom@sunflowerweb.nl>
Date: Tue, 8 Nov 2022 09:29:21 +0100
Subject: [FIX] pre-commit

---
 mail_autogenerated_header/__manifest__.py | 1 +
 1 file changed, 1 insertion(+)

diff --git a/mail_autogenerated_header/__manifest__.py b/mail_autogenerated_header/__manifest__.py
index b79adfa47..69b104fc6 100644
--- a/mail_autogenerated_header/__manifest__.py
+++ b/mail_autogenerated_header/__manifest__.py
@@ -5,6 +5,7 @@
     "name": "Autogenerated headers",
     "version": "12.0.1.0.0",
     "author": "Hunki Enterprises BV, Therp BV,Odoo Community Association (OCA)",
+    "website": "https://github.com/OCA/social",
     "license": "AGPL-3",
     "category": "Tools",
     "summary": "Add headers to Odoo's mails indicating they are autogenerated",
--
2.34.1


From 134ae8fdef97c4a7c60e8ee38de2df3a9bbaa366 Mon Sep 17 00:00:00 2001
From: OCA-git-bot <oca-git-bot@odoo-community.org>
Date: Sun, 3 Sep 2023 16:57:45 +0000
Subject: [UPD] README.rst

---
 mail_autogenerated_header/README.rst          | 15 +++++---
 .../static/description/index.html             | 38 ++++++++++---------
 2 files changed, 29 insertions(+), 24 deletions(-)

diff --git a/mail_autogenerated_header/README.rst b/mail_autogenerated_header/README.rst
index d0d6f1055..7d27426fc 100644
--- a/mail_autogenerated_header/README.rst
+++ b/mail_autogenerated_header/README.rst
@@ -2,10 +2,13 @@
 Autogenerated headers
 =====================

-.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+..
+   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+   !! source digest: sha256:c85cef2766e4f4e18f525f38d82ccee67b9e934eee4ca3cccd9ae68783d11a26
+   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
@@ -19,11 +22,11 @@ Autogenerated headers
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
     :target: https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header
     :alt: Translate me on Weblate
-.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/205/12.0
-    :alt: Try me on Runbot
+.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/social&target_branch=12.0
+    :alt: Try me on Runboat

-|badge1| |badge2| |badge3| |badge4| |badge5|
+|badge1| |badge2| |badge3| |badge4| |badge5|

 This module was written to mark Odoo's emails as being autogenerated according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`_, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.

@@ -50,7 +53,7 @@ Bug Tracker

 Bugs are tracked on `GitHub Issues <https://github.com/OCA/social/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
-If you spotted it first, help us smashing it by providing a detailed and welcomed
+If you spotted it first, help us to smash it by providing a detailed and welcomed
 `feedback <https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

 Do not contact contributors directly about support or help with technical issues.
diff --git a/mail_autogenerated_header/static/description/index.html b/mail_autogenerated_header/static/description/index.html
index f4263373b..0ae309162 100644
--- a/mail_autogenerated_header/static/description/index.html
+++ b/mail_autogenerated_header/static/description/index.html
@@ -1,20 +1,20 @@
-<?xml version="1.0" encoding="utf-8" ?>
+<?xml version="1.0" encoding="utf-8"?>
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
 <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
-<meta name="generator" content="Docutils 0.15.1: http://docutils.sourceforge.net/" />
+<meta name="generator" content="Docutils: https://docutils.sourceforge.io/" />
 <title>Autogenerated headers</title>
 <style type="text/css">

 /*
 :Author: David Goodger (goodger@python.org)
-:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
+:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
 :Copyright: This stylesheet has been placed in the public domain.

 Default cascading style sheet for the HTML output of Docutils.

-See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
+See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
 customize this style sheet.
 */

@@ -366,26 +366,28 @@ ul.auto-toc {
 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
+!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
+!! source digest: sha256:c85cef2766e4f4e18f525f38d82ccee67b9e934eee4ca3cccd9ae68783d11a26
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
-<p><a class="reference external" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external" href="https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external" href="https://runbot.odoo-community.org/runbot/205/12.0"><img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png" /></a></p>
+<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/social&amp;target_branch=12.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
 <p>This module was written to mark Odoo’s emails as being autogenerated according to <a class="reference external" href="https://tools.ietf.org/html/rfc3834">RFC 3834</a>, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.</p>
 <p>On the receiving side, this module drops all notifications for autogenerated incoming e-mails.</p>
 <p>The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.</p>
 <p><strong>Table of contents</strong></p>
 <div class="contents local topic" id="contents">
 <ul class="simple">
-<li><a class="reference internal" href="#usage" id="id1">Usage</a></li>
-<li><a class="reference internal" href="#bug-tracker" id="id2">Bug Tracker</a></li>
-<li><a class="reference internal" href="#credits" id="id3">Credits</a><ul>
-<li><a class="reference internal" href="#authors" id="id4">Authors</a></li>
-<li><a class="reference internal" href="#contributors" id="id5">Contributors</a></li>
-<li><a class="reference internal" href="#maintainers" id="id6">Maintainers</a></li>
+<li><a class="reference internal" href="#usage" id="toc-entry-1">Usage</a></li>
+<li><a class="reference internal" href="#bug-tracker" id="toc-entry-2">Bug Tracker</a></li>
+<li><a class="reference internal" href="#credits" id="toc-entry-3">Credits</a><ul>
+<li><a class="reference internal" href="#authors" id="toc-entry-4">Authors</a></li>
+<li><a class="reference internal" href="#contributors" id="toc-entry-5">Contributors</a></li>
+<li><a class="reference internal" href="#maintainers" id="toc-entry-6">Maintainers</a></li>
 </ul>
 </li>
 </ul>
 </div>
 <div class="section" id="usage">
-<h1><a class="toc-backref" href="#id1">Usage</a></h1>
+<h1><a class="toc-backref" href="#toc-entry-1">Usage</a></h1>
 <p>There’s nothing the user has to do. Developers can set the context flag
 <tt class="docutils literal">mail_autogenerated_header_disable</tt> in calls to <tt class="docutils literal">send_email</tt> in order to
 suppress adding any headers at all, and override
@@ -393,30 +395,30 @@ suppress adding any headers at all, and override
 per model.</p>
 </div>
 <div class="section" id="bug-tracker">
-<h1><a class="toc-backref" href="#id2">Bug Tracker</a></h1>
+<h1><a class="toc-backref" href="#toc-entry-2">Bug Tracker</a></h1>
 <p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/social/issues">GitHub Issues</a>.
 In case of trouble, please check there if your issue has already been reported.
-If you spotted it first, help us smashing it by providing a detailed and welcomed
+If you spotted it first, help us to smash it by providing a detailed and welcomed
 <a class="reference external" href="https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
 <p>Do not contact contributors directly about support or help with technical issues.</p>
 </div>
 <div class="section" id="credits">
-<h1><a class="toc-backref" href="#id3">Credits</a></h1>
+<h1><a class="toc-backref" href="#toc-entry-3">Credits</a></h1>
 <div class="section" id="authors">
-<h2><a class="toc-backref" href="#id4">Authors</a></h2>
+<h2><a class="toc-backref" href="#toc-entry-4">Authors</a></h2>
 <ul class="simple">
 <li>Hunki Enterprises BV</li>
 <li>Therp BV</li>
 </ul>
 </div>
 <div class="section" id="contributors">
-<h2><a class="toc-backref" href="#id5">Contributors</a></h2>
+<h2><a class="toc-backref" href="#toc-entry-5">Contributors</a></h2>
 <ul class="simple">
 <li>Holger Brunn &lt;<a class="reference external" href="mailto:mail&#64;hunki-enterprises.com">mail&#64;hunki-enterprises.com</a>&gt; (<a class="reference external" href="https://hunki-enterprises.com">https://hunki-enterprises.com</a>)</li>
 </ul>
 </div>
 <div class="section" id="maintainers">
-<h2><a class="toc-backref" href="#id6">Maintainers</a></h2>
+<h2><a class="toc-backref" href="#toc-entry-6">Maintainers</a></h2>
 <p>This module is maintained by the OCA.</p>
 <a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
 <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
--
2.34.1


From 7ffad87048c961a3011b7780acc45ac7b9a44228 Mon Sep 17 00:00:00 2001
From: Anna Janiszewska <anna.janiszewska@camptocamp.com>
Date: Thu, 12 Sep 2024 14:45:05 +0200
Subject: [IMP] mail_autogenerated_header: pre-commit stuff

---
 mail_autogenerated_header/README.rst          | 38 +++++----
 mail_autogenerated_header/__manifest__.py     |  2 +-
 .../models/ir_mail_server.py                  | 80 ++++++++++++-------
 .../models/mail_thread.py                     | 28 ++++---
 .../models/res_partner.py                     | 24 ++++--
 mail_autogenerated_header/pyproject.toml      |  3 +
 .../readme/CONTRIBUTORS.md                    |  2 +
 .../readme/CONTRIBUTORS.rst                   |  1 -
 .../readme/DESCRIPTION.md                     | 10 +++
 .../readme/DESCRIPTION.rst                    |  5 --
 mail_autogenerated_header/readme/USAGE.md     |  5 ++
 mail_autogenerated_header/readme/USAGE.rst    |  5 --
 .../static/description/index.html             | 40 ++++++----
 .../tests/test_mail_autogenerated_header.py   | 73 +++++++++--------
 14 files changed, 194 insertions(+), 122 deletions(-)
 create mode 100644 mail_autogenerated_header/pyproject.toml
 create mode 100644 mail_autogenerated_header/readme/CONTRIBUTORS.md
 delete mode 100644 mail_autogenerated_header/readme/CONTRIBUTORS.rst
 create mode 100644 mail_autogenerated_header/readme/DESCRIPTION.md
 delete mode 100644 mail_autogenerated_header/readme/DESCRIPTION.rst
 create mode 100644 mail_autogenerated_header/readme/USAGE.md
 delete mode 100644 mail_autogenerated_header/readme/USAGE.rst

diff --git a/mail_autogenerated_header/README.rst b/mail_autogenerated_header/README.rst
index 7d27426fc..c54a17c65 100644
--- a/mail_autogenerated_header/README.rst
+++ b/mail_autogenerated_header/README.rst
@@ -17,22 +17,27 @@ Autogenerated headers
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github
-    :target: https://github.com/OCA/social/tree/12.0/mail_autogenerated_header
+    :target: https://github.com/OCA/social/tree/17.0/mail_autogenerated_header
     :alt: OCA/social
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header
+    :target: https://translation.odoo-community.org/projects/social-17-0/social-17-0-mail_autogenerated_header
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/social&target_branch=12.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/social&target_branch=17.0
     :alt: Try me on Runboat

 |badge1| |badge2| |badge3| |badge4| |badge5|

-This module was written to mark Odoo's emails as being autogenerated according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`_, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.
+This module was written to mark Odoo's emails as being autogenerated
+according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`__, section
+5. This allows receiving mail servers to act accordingly by for example
+not sending a vacation autoreply.

-On the receiving side, this module drops all notifications for autogenerated incoming e-mails.
+On the receiving side, this module drops all notifications for
+autogenerated incoming e-mails.

-The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.
+The combination of both avoids possible mail loops with misconfigured or
+broken email servers on the opposite side.

 **Table of contents**

@@ -43,10 +48,10 @@ Usage
 =====

 There's nothing the user has to do. Developers can set the context flag
-``mail_autogenerated_header_disable`` in calls to ``send_email`` in order to
-suppress adding any headers at all, and override
-``_message_route_process_autoreply`` to fine tune dropping autogenerated mails
-per model.
+``mail_autogenerated_header_disable`` in calls to ``send_email`` in
+order to suppress adding any headers at all, and override
+``_message_route_process_autoreply`` to fine tune dropping autogenerated
+mails per model.

 Bug Tracker
 ===========
@@ -54,7 +59,7 @@ Bug Tracker
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/social/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

 Do not contact contributors directly about support or help with technical issues.

@@ -62,18 +67,19 @@ Credits
 =======

 Authors
-~~~~~~~
+-------

 * Hunki Enterprises BV
 * Therp BV

 Contributors
-~~~~~~~~~~~~
+------------

-* Holger Brunn <mail@hunki-enterprises.com> (https://hunki-enterprises.com)
+-  Holger Brunn <mail@hunki-enterprises.com>
+   (https://hunki-enterprises.com)

 Maintainers
-~~~~~~~~~~~
+-----------

 This module is maintained by the OCA.

@@ -85,6 +91,6 @@ OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.

-This module is part of the `OCA/social <https://github.com/OCA/social/tree/12.0/mail_autogenerated_header>`_ project on GitHub.
+This module is part of the `OCA/social <https://github.com/OCA/social/tree/17.0/mail_autogenerated_header>`_ project on GitHub.

 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
diff --git a/mail_autogenerated_header/__manifest__.py b/mail_autogenerated_header/__manifest__.py
index 69b104fc6..2cbce4df1 100644
--- a/mail_autogenerated_header/__manifest__.py
+++ b/mail_autogenerated_header/__manifest__.py
@@ -10,6 +10,6 @@
     "category": "Tools",
     "summary": "Add headers to Odoo's mails indicating they are autogenerated",
     "depends": [
-        'mail',
+        "mail",
     ],
 }
diff --git a/mail_autogenerated_header/models/ir_mail_server.py b/mail_autogenerated_header/models/ir_mail_server.py
index badde4408..af99da88b 100644
--- a/mail_autogenerated_header/models/ir_mail_server.py
+++ b/mail_autogenerated_header/models/ir_mail_server.py
@@ -5,51 +5,77 @@ from odoo import api, models


 class IrMailServer(models.Model):
-    _inherit = 'ir.mail_server'
+    _inherit = "ir.mail_server"

     @api.model
     def send_email(
-        self, message, mail_server_id=None, smtp_server=None, smtp_port=None,
-        smtp_user=None, smtp_password=None, smtp_encryption=None,
-        smtp_debug=False, smtp_session=None,
+        self,
+        message,
+        mail_server_id=None,
+        smtp_server=None,
+        smtp_port=None,
+        smtp_user=None,
+        smtp_password=None,
+        smtp_encryption=None,
+        smtp_debug=False,
+        smtp_session=None,
     ):
-        """ Inject autogenerated header for autogoing mails """
+        """Inject autogenerated header for autogoing mails"""

-        if not self.env.context.get('mail_autogenerated_header_disable') and\
-                self._send_email_set_autogenerated(
-                    message, mail_server_id=mail_server_id,
-                    smtp_server=smtp_server, smtp_port=smtp_port,
-                    smtp_user=smtp_user, smtp_password=smtp_password,
-                    smtp_encryption=smtp_encryption, smtp_debug=smtp_debug,
-                    smtp_session=smtp_session,
-                ):
+        if not self.env.context.get(
+            "mail_autogenerated_header_disable"
+        ) and self._send_email_set_autogenerated(
+            message,
+            mail_server_id=mail_server_id,
+            smtp_server=smtp_server,
+            smtp_port=smtp_port,
+            smtp_user=smtp_user,
+            smtp_password=smtp_password,
+            smtp_encryption=smtp_encryption,
+            smtp_debug=smtp_debug,
+            smtp_session=smtp_session,
+        ):
             # MS Exchange's broken version as of
             # http://blogs.technet.com/b/exchange/archive/2006/10/06/
             # 3395024.aspx
-            message['Precedence'] = 'bulk'
-            message['X-Auto-Response-Suppress'] = 'OOF'
+            message["Precedence"] = "bulk"
+            message["X-Auto-Response-Suppress"] = "OOF"
             # The right way to do it as of
             # https://tools.ietf.org/html/rfc3834
-            message['Auto-Submitted'] = 'auto-generated'
+            message["Auto-Submitted"] = "auto-generated"

         return super(IrMailServer, self).send_email(
-            message, mail_server_id=mail_server_id, smtp_server=smtp_server,
-            smtp_port=smtp_port, smtp_user=smtp_user,
-            smtp_password=smtp_password, smtp_encryption=smtp_encryption,
-            smtp_debug=smtp_debug, smtp_session=smtp_session,
+            message,
+            mail_server_id=mail_server_id,
+            smtp_server=smtp_server,
+            smtp_port=smtp_port,
+            smtp_user=smtp_user,
+            smtp_password=smtp_password,
+            smtp_encryption=smtp_encryption,
+            smtp_debug=smtp_debug,
+            smtp_session=smtp_session,
         )

     @api.model
     def _send_email_set_autogenerated(
-        self, message, mail_server_id=None, smtp_server=None, smtp_port=None,
-        smtp_user=None, smtp_password=None, smtp_encryption=None,
-        smtp_debug=False, smtp_session=None,
+        self,
+        message,
+        mail_server_id=None,
+        smtp_server=None,
+        smtp_port=None,
+        smtp_user=None,
+        smtp_password=None,
+        smtp_encryption=None,
+        smtp_debug=False,
+        smtp_session=None,
     ):
         """Determine if some mail should have the autogenerated headers"""

-        mail = self.env['mail.mail'].search([
-            ('message_id', '=', message['Message-Id']),
-        ])
+        mail = self.env["mail.mail"].search(
+            [
+                ("message_id", "=", message["Message-Id"]),
+            ]
+        )
         if not mail:
             return False
-        return mail.subtype_id != self.env.ref('mail.mt_comment')
+        return mail.subtype_id != self.env.ref("mail.mt_comment")
diff --git a/mail_autogenerated_header/models/mail_thread.py b/mail_autogenerated_header/models/mail_thread.py
index 0fc5c6a87..063ca410d 100644
--- a/mail_autogenerated_header/models/mail_thread.py
+++ b/mail_autogenerated_header/models/mail_thread.py
@@ -2,33 +2,39 @@
 # Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 import logging
+
 from odoo import api, models
+
 _logger = logging.getLogger(__name__)


 class MailThread(models.AbstractModel):
-    _inherit = 'mail.thread'
+    _inherit = "mail.thread"

     @api.model
     def message_route_process(self, message, message_dict, routes):
-        """ Set context key to suppress notification for autogenerated incoming
-        mails """
+        """Set context key to suppress notification for autogenerated incoming
+        mails"""
         if self._message_route_process_autoreply(message, message_dict, routes):
             _logger.info(
-                'Ignoring email %s from %s because it seems to be an auto '
-                'reply', message.get('Message-ID'), message.get('From'),
+                "Ignoring email %s from %s because it seems to be an auto " "reply",
+                message.get("Message-ID"),
+                message.get("From"),
             )
             self = self.with_context(mail_autogenerated_header=message)
         return super(MailThread, self).message_route_process(
-            message, message_dict, routes,
+            message,
+            message_dict,
+            routes,
         )

     @api.model
     def _message_route_process_autoreply(self, message, message_dict, routes):
-        """ Determine if some message is an autoreply """
+        """Determine if some message is an autoreply"""
         return (
-            message['Auto-Submitted'] and message['Auto-Submitted'] != 'no' or
-            message['X-Auto-Response-Suppress'] and set(
-                message['X-Auto-Response-Suppress'].split(', ')
-            ) & set('AutoReply', 'All')
+            message["Auto-Submitted"]
+            and message["Auto-Submitted"] != "no"
+            or message["X-Auto-Response-Suppress"]
+            and set(message["X-Auto-Response-Suppress"].split(", "))
+            & set("AutoReply", "All")
         )
diff --git a/mail_autogenerated_header/models/res_partner.py b/mail_autogenerated_header/models/res_partner.py
index ff276ca67..e905570f6 100644
--- a/mail_autogenerated_header/models/res_partner.py
+++ b/mail_autogenerated_header/models/res_partner.py
@@ -4,20 +4,28 @@ from odoo import api, models


 class ResPartner(models.Model):
-    _inherit = 'res.partner'
+    _inherit = "res.partner"

     @api.model
     def _notify(
-            self, message, rdata, record, force_send=False,
-            send_after_commit=True, model_description=False,
-            mail_auto_delete=True,
+        self,
+        message,
+        rdata,
+        record,
+        force_send=False,
+        send_after_commit=True,
+        model_description=False,
+        mail_auto_delete=True,
     ):
-        """ Inhibit notifications if this is the notification for an incoming
-        autogenerated mail from another system """
-        if self.env.context.get('mail_autogenerated_header'):
+        """Inhibit notifications if this is the notification for an incoming
+        autogenerated mail from another system"""
+        if self.env.context.get("mail_autogenerated_header"):
             return True
         return super()._notify(
-            message, rdata, record, force_send=force_send,
+            message,
+            rdata,
+            record,
+            force_send=force_send,
             send_after_commit=send_after_commit,
             model_description=model_description,
             mail_auto_delete=mail_auto_delete,
diff --git a/mail_autogenerated_header/pyproject.toml b/mail_autogenerated_header/pyproject.toml
new file mode 100644
index 000000000..4231d0ccc
--- /dev/null
+++ b/mail_autogenerated_header/pyproject.toml
@@ -0,0 +1,3 @@
+[build-system]
+requires = ["whool"]
+build-backend = "whool.buildapi"
diff --git a/mail_autogenerated_header/readme/CONTRIBUTORS.md b/mail_autogenerated_header/readme/CONTRIBUTORS.md
new file mode 100644
index 000000000..577341c32
--- /dev/null
+++ b/mail_autogenerated_header/readme/CONTRIBUTORS.md
@@ -0,0 +1,2 @@
+- Holger Brunn \<<mail@hunki-enterprises.com>\>
+  (<https://hunki-enterprises.com>)
diff --git a/mail_autogenerated_header/readme/CONTRIBUTORS.rst b/mail_autogenerated_header/readme/CONTRIBUTORS.rst
deleted file mode 100644
index 33b6eb2c3..000000000
--- a/mail_autogenerated_header/readme/CONTRIBUTORS.rst
+++ /dev/null
@@ -1 +0,0 @@
-* Holger Brunn <mail@hunki-enterprises.com> (https://hunki-enterprises.com)
diff --git a/mail_autogenerated_header/readme/DESCRIPTION.md b/mail_autogenerated_header/readme/DESCRIPTION.md
new file mode 100644
index 000000000..3e17a4d4f
--- /dev/null
+++ b/mail_autogenerated_header/readme/DESCRIPTION.md
@@ -0,0 +1,10 @@
+This module was written to mark Odoo's emails as being autogenerated
+according to [RFC 3834](https://tools.ietf.org/html/rfc3834), section 5.
+This allows receiving mail servers to act accordingly by for example not
+sending a vacation autoreply.
+
+On the receiving side, this module drops all notifications for
+autogenerated incoming e-mails.
+
+The combination of both avoids possible mail loops with misconfigured or
+broken email servers on the opposite side.
diff --git a/mail_autogenerated_header/readme/DESCRIPTION.rst b/mail_autogenerated_header/readme/DESCRIPTION.rst
deleted file mode 100644
index bda994624..000000000
--- a/mail_autogenerated_header/readme/DESCRIPTION.rst
+++ /dev/null
@@ -1,5 +0,0 @@
-This module was written to mark Odoo's emails as being autogenerated according to `RFC 3834 <https://tools.ietf.org/html/rfc3834>`_, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.
-
-On the receiving side, this module drops all notifications for autogenerated incoming e-mails.
-
-The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.
diff --git a/mail_autogenerated_header/readme/USAGE.md b/mail_autogenerated_header/readme/USAGE.md
new file mode 100644
index 000000000..34380206c
--- /dev/null
+++ b/mail_autogenerated_header/readme/USAGE.md
@@ -0,0 +1,5 @@
+There's nothing the user has to do. Developers can set the context flag
+`mail_autogenerated_header_disable` in calls to `send_email` in order to
+suppress adding any headers at all, and override
+`_message_route_process_autoreply` to fine tune dropping autogenerated
+mails per model.
diff --git a/mail_autogenerated_header/readme/USAGE.rst b/mail_autogenerated_header/readme/USAGE.rst
deleted file mode 100644
index 8412aba96..000000000
--- a/mail_autogenerated_header/readme/USAGE.rst
+++ /dev/null
@@ -1,5 +0,0 @@
-There's nothing the user has to do. Developers can set the context flag
-``mail_autogenerated_header_disable`` in calls to ``send_email`` in order to
-suppress adding any headers at all, and override
-``_message_route_process_autoreply`` to fine tune dropping autogenerated mails
-per model.
diff --git a/mail_autogenerated_header/static/description/index.html b/mail_autogenerated_header/static/description/index.html
index 0ae309162..f8dd3b852 100644
--- a/mail_autogenerated_header/static/description/index.html
+++ b/mail_autogenerated_header/static/description/index.html
@@ -1,4 +1,3 @@
-<?xml version="1.0" encoding="utf-8"?>
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head>
@@ -9,10 +8,11 @@

 /*
 :Author: David Goodger (goodger@python.org)
-:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
+:Id: $Id: html4css1.css 9511 2024-01-13 09:50:07Z milde $
 :Copyright: This stylesheet has been placed in the public domain.

 Default cascading style sheet for the HTML output of Docutils.
+Despite the name, some widely supported CSS2 features are used.

 See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
 customize this style sheet.
@@ -275,7 +275,7 @@ pre.literal-block, pre.doctest-block, pre.math, pre.code {
   margin-left: 2em ;
   margin-right: 2em }

-pre.code .ln { color: grey; } /* line numbers */
+pre.code .ln { color: gray; } /* line numbers */
 pre.code, code { background-color: #eeeeee }
 pre.code .comment, code .comment { color: #5C6576 }
 pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
@@ -301,7 +301,7 @@ span.option {
 span.pre {
   white-space: pre }

-span.problematic {
+span.problematic, pre.problematic {
   color: red }

 span.section-subtitle {
@@ -369,10 +369,15 @@ ul.auto-toc {
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! source digest: sha256:c85cef2766e4f4e18f525f38d82ccee67b9e934eee4ca3cccd9ae68783d11a26
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
-<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/social-12-0/social-12-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/social&amp;target_branch=12.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
-<p>This module was written to mark Odoo’s emails as being autogenerated according to <a class="reference external" href="https://tools.ietf.org/html/rfc3834">RFC 3834</a>, section 5. This allows receiving mail servers to act accordingly by for example not sending a vacation autoreply.</p>
-<p>On the receiving side, this module drops all notifications for autogenerated incoming e-mails.</p>
-<p>The combination of both avoids possible mail loops with misconfigured or broken email servers on the opposite side.</p>
+<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/social/tree/17.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/social-17-0/social-17-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/social&amp;target_branch=17.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
+<p>This module was written to mark Odoo’s emails as being autogenerated
+according to <a class="reference external" href="https://tools.ietf.org/html/rfc3834">RFC 3834</a>, section
+5. This allows receiving mail servers to act accordingly by for example
+not sending a vacation autoreply.</p>
+<p>On the receiving side, this module drops all notifications for
+autogenerated incoming e-mails.</p>
+<p>The combination of both avoids possible mail loops with misconfigured or
+broken email servers on the opposite side.</p>
 <p><strong>Table of contents</strong></p>
 <div class="contents local topic" id="contents">
 <ul class="simple">
@@ -389,17 +394,17 @@ ul.auto-toc {
 <div class="section" id="usage">
 <h1><a class="toc-backref" href="#toc-entry-1">Usage</a></h1>
 <p>There’s nothing the user has to do. Developers can set the context flag
-<tt class="docutils literal">mail_autogenerated_header_disable</tt> in calls to <tt class="docutils literal">send_email</tt> in order to
-suppress adding any headers at all, and override
-<tt class="docutils literal">_message_route_process_autoreply</tt> to fine tune dropping autogenerated mails
-per model.</p>
+<tt class="docutils literal">mail_autogenerated_header_disable</tt> in calls to <tt class="docutils literal">send_email</tt> in
+order to suppress adding any headers at all, and override
+<tt class="docutils literal">_message_route_process_autoreply</tt> to fine tune dropping autogenerated
+mails per model.</p>
 </div>
 <div class="section" id="bug-tracker">
 <h1><a class="toc-backref" href="#toc-entry-2">Bug Tracker</a></h1>
 <p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/social/issues">GitHub Issues</a>.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-<a class="reference external" href="https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
+<a class="reference external" href="https://github.com/OCA/social/issues/new?body=module:%20mail_autogenerated_header%0Aversion:%2017.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
 <p>Do not contact contributors directly about support or help with technical issues.</p>
 </div>
 <div class="section" id="credits">
@@ -414,17 +419,20 @@ If you spotted it first, help us to smash it by providing a detailed and welcome
 <div class="section" id="contributors">
 <h2><a class="toc-backref" href="#toc-entry-5">Contributors</a></h2>
 <ul class="simple">
-<li>Holger Brunn &lt;<a class="reference external" href="mailto:mail&#64;hunki-enterprises.com">mail&#64;hunki-enterprises.com</a>&gt; (<a class="reference external" href="https://hunki-enterprises.com">https://hunki-enterprises.com</a>)</li>
+<li>Holger Brunn &lt;<a class="reference external" href="mailto:mail&#64;hunki-enterprises.com">mail&#64;hunki-enterprises.com</a>&gt;
+(<a class="reference external" href="https://hunki-enterprises.com">https://hunki-enterprises.com</a>)</li>
 </ul>
 </div>
 <div class="section" id="maintainers">
 <h2><a class="toc-backref" href="#toc-entry-6">Maintainers</a></h2>
 <p>This module is maintained by the OCA.</p>
-<a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
+<a class="reference external image-reference" href="https://odoo-community.org">
+<img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" />
+</a>
 <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
-<p>This module is part of the <a class="reference external" href="https://github.com/OCA/social/tree/12.0/mail_autogenerated_header">OCA/social</a> project on GitHub.</p>
+<p>This module is part of the <a class="reference external" href="https://github.com/OCA/social/tree/17.0/mail_autogenerated_header">OCA/social</a> project on GitHub.</p>
 <p>You are welcome to contribute. To learn how please visit <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>.</p>
 </div>
 </div>
diff --git a/mail_autogenerated_header/tests/test_mail_autogenerated_header.py b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
index 5754e87d7..f97b15468 100644
--- a/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
+++ b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
@@ -8,56 +8,65 @@ from odoo.tools.mail import generate_tracking_message_id
 class TestMailAutogeneratedHeader(TransactionCase):
     def setUp(self):
         super().setUp()
-        self.mail = self.env['mail.mail'].create({
-            'subject': 'testmessage',
-            'email_from': 'test@test.com',
-            'email_to': 'test@test.com',
-            'message_id': 'message_id',
-        })
-        self.message = self.env['ir.mail_server'].build_email(
-            [self.mail.email_from], [self.mail.email_to], self.mail.subject, '',
+        self.mail = self.env["mail.mail"].create(
+            {
+                "subject": "testmessage",
+                "email_from": "test@test.com",
+                "email_to": "test@test.com",
+                "message_id": "message_id",
+            }
+        )
+        self.message = self.env["ir.mail_server"].build_email(
+            [self.mail.email_from],
+            [self.mail.email_to],
+            self.mail.subject,
+            "",
             message_id=self.mail.message_id,
         )

     def test_sending(self):
-        """ Test that sending a mail has the Auto-Submitted header """
-        self.env['ir.mail_server'].send_email(self.message)
-        self.assertEqual(self.message['Auto-Submitted'], 'auto-generated')
+        """Test that sending a mail has the Auto-Submitted header"""
+        self.env["ir.mail_server"].send_email(self.message)
+        self.assertEqual(self.message["Auto-Submitted"], "auto-generated")

     def test_receiving(self):
-        """ Test that receiving mails with some auto submitted marker won't
-        cause new notifications being sent """
-        demo_user = self.env.ref('base.user_demo')
+        """Test that receiving mails with some auto submitted marker won't
+        cause new notifications being sent"""
+        demo_user = self.env.ref("base.user_demo")
         self.message.replace_header(
-            'Message-Id', generate_tracking_message_id(42),
+            "Message-Id",
+            generate_tracking_message_id(42),
         )
-        partner_id = self.env['mail.thread'].message_process(
-            'res.partner', self.message.as_string(),
+        partner_id = self.env["mail.thread"].message_process(
+            "res.partner",
+            self.message.as_string(),
         )
-        partner = self.env['res.partner'].browse(partner_id)
+        partner = self.env["res.partner"].browse(partner_id)
         partner.message_subscribe(partner_ids=demo_user.partner_id.ids)
         reply = self.message
-        reply['References'] = self.message['Message-Id']
-        reply.replace_header('Message-Id', 'message_id3')
-        thread_id = self.env['mail.thread'].message_process(
-            'res.partner', reply.as_string(),
+        reply["References"] = self.message["Message-Id"]
+        reply.replace_header("Message-Id", "message_id3")
+        thread_id = self.env["mail.thread"].message_process(
+            "res.partner",
+            reply.as_string(),
         )
         self.assertEqual(thread_id, partner.id)
-        notifications = self.env['mail.notification'].search([
-            ('res_partner_id', '=', demo_user.partner_id.id)
-        ])
+        notifications = self.env["mail.notification"].search(
+            [("res_partner_id", "=", demo_user.partner_id.id)]
+        )
         # mail is not autogenerated, should have generated mails
         self.assertTrue(notifications.is_email)
         notifications.unlink()

-        reply.replace_header('Message-Id', 'message_id4')
-        reply['Auto-Submitted'] = 'auto-generated'
-        thread_id = self.env['mail.thread'].message_process(
-            'res.partner', reply.as_string(),
+        reply.replace_header("Message-Id", "message_id4")
+        reply["Auto-Submitted"] = "auto-generated"
+        thread_id = self.env["mail.thread"].message_process(
+            "res.partner",
+            reply.as_string(),
         )
         self.assertEqual(thread_id, partner.id)
-        notifications = self.env['mail.notification'].search([
-            ('res_partner_id', '=', demo_user.partner_id.id)
-        ])
+        notifications = self.env["mail.notification"].search(
+            [("res_partner_id", "=", demo_user.partner_id.id)]
+        )
         # mail is autogenerated, shouldn't have generated mails
         self.assertFalse(notifications.is_email)
--
2.34.1


From 64ee558bfa91a5961be4e4f6174b71ccf6fc90e0 Mon Sep 17 00:00:00 2001
From: Anna Janiszewska <anna.janiszewska@camptocamp.com>
Date: Thu, 12 Sep 2024 14:46:28 +0200
Subject: [MIG] mail_autogenerated_header: Migration to 17.0

---
 mail_autogenerated_header/__manifest__.py     |  2 +-
 mail_autogenerated_header/models/__init__.py  |  1 -
 .../models/ir_mail_server.py                  | 12 +++++--
 .../models/mail_thread.py                     | 16 +++++++---
 .../models/res_partner.py                     | 32 -------------------
 .../tests/test_mail_autogenerated_header.py   |  9 ++++--
 6 files changed, 29 insertions(+), 43 deletions(-)
 delete mode 100644 mail_autogenerated_header/models/res_partner.py

diff --git a/mail_autogenerated_header/__manifest__.py b/mail_autogenerated_header/__manifest__.py
index 2cbce4df1..61cc6301e 100644
--- a/mail_autogenerated_header/__manifest__.py
+++ b/mail_autogenerated_header/__manifest__.py
@@ -3,7 +3,7 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 {
     "name": "Autogenerated headers",
-    "version": "12.0.1.0.0",
+    "version": "17.0.1.0.0",
     "author": "Hunki Enterprises BV, Therp BV,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/social",
     "license": "AGPL-3",
diff --git a/mail_autogenerated_header/models/__init__.py b/mail_autogenerated_header/models/__init__.py
index af47c23c8..0ce24b0b1 100644
--- a/mail_autogenerated_header/models/__init__.py
+++ b/mail_autogenerated_header/models/__init__.py
@@ -3,4 +3,3 @@
 # License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
 from . import ir_mail_server
 from . import mail_thread
-from . import res_partner
diff --git a/mail_autogenerated_header/models/ir_mail_server.py b/mail_autogenerated_header/models/ir_mail_server.py
index af99da88b..eb387f9c3 100644
--- a/mail_autogenerated_header/models/ir_mail_server.py
+++ b/mail_autogenerated_header/models/ir_mail_server.py
@@ -17,10 +17,12 @@ class IrMailServer(models.Model):
         smtp_user=None,
         smtp_password=None,
         smtp_encryption=None,
+        smtp_ssl_certificate=None,
+        smtp_ssl_private_key=None,
         smtp_debug=False,
         smtp_session=None,
     ):
-        """Inject autogenerated header for autogoing mails"""
+        # Inject autogenerated header for autogoing mails

         if not self.env.context.get(
             "mail_autogenerated_header_disable"
@@ -32,6 +34,8 @@ class IrMailServer(models.Model):
             smtp_user=smtp_user,
             smtp_password=smtp_password,
             smtp_encryption=smtp_encryption,
+            smtp_ssl_certificate=smtp_ssl_certificate,
+            smtp_ssl_private_key=smtp_ssl_private_key,
             smtp_debug=smtp_debug,
             smtp_session=smtp_session,
         ):
@@ -44,7 +48,7 @@ class IrMailServer(models.Model):
             # https://tools.ietf.org/html/rfc3834
             message["Auto-Submitted"] = "auto-generated"

-        return super(IrMailServer, self).send_email(
+        return super().send_email(
             message,
             mail_server_id=mail_server_id,
             smtp_server=smtp_server,
@@ -52,6 +56,8 @@ class IrMailServer(models.Model):
             smtp_user=smtp_user,
             smtp_password=smtp_password,
             smtp_encryption=smtp_encryption,
+            smtp_ssl_certificate=smtp_ssl_certificate,
+            smtp_ssl_private_key=smtp_ssl_private_key,
             smtp_debug=smtp_debug,
             smtp_session=smtp_session,
         )
@@ -66,6 +72,8 @@ class IrMailServer(models.Model):
         smtp_user=None,
         smtp_password=None,
         smtp_encryption=None,
+        smtp_ssl_certificate=None,
+        smtp_ssl_private_key=None,
         smtp_debug=False,
         smtp_session=None,
     ):
diff --git a/mail_autogenerated_header/models/mail_thread.py b/mail_autogenerated_header/models/mail_thread.py
index 063ca410d..dbc85e557 100644
--- a/mail_autogenerated_header/models/mail_thread.py
+++ b/mail_autogenerated_header/models/mail_thread.py
@@ -12,9 +12,8 @@ class MailThread(models.AbstractModel):
     _inherit = "mail.thread"

     @api.model
-    def message_route_process(self, message, message_dict, routes):
-        """Set context key to suppress notification for autogenerated incoming
-        mails"""
+    def _message_route_process(self, message, message_dict, routes):
+        # Set context key to suppress notification for autogenerated incoming mails
         if self._message_route_process_autoreply(message, message_dict, routes):
             _logger.info(
                 "Ignoring email %s from %s because it seems to be an auto " "reply",
@@ -22,12 +21,19 @@ class MailThread(models.AbstractModel):
                 message.get("From"),
             )
             self = self.with_context(mail_autogenerated_header=message)
-        return super(MailThread, self).message_route_process(
+        return super()._message_route_process(
             message,
             message_dict,
             routes,
         )

+    def _notify_thread(self, message, msg_vals=False, **kwargs):
+        # Inhibit notifications if this is the notification for an incoming
+        # autogenerated mail from another system
+        if self.env.context.get("mail_autogenerated_header"):
+            return False
+        return super()._notify_thread(message, msg_vals=msg_vals, **kwargs)
+
     @api.model
     def _message_route_process_autoreply(self, message, message_dict, routes):
         """Determine if some message is an autoreply"""
@@ -36,5 +42,5 @@ class MailThread(models.AbstractModel):
             and message["Auto-Submitted"] != "no"
             or message["X-Auto-Response-Suppress"]
             and set(message["X-Auto-Response-Suppress"].split(", "))
-            & set("AutoReply", "All")
+            & set(["AutoReply", "All"])
         )
diff --git a/mail_autogenerated_header/models/res_partner.py b/mail_autogenerated_header/models/res_partner.py
deleted file mode 100644
index e905570f6..000000000
--- a/mail_autogenerated_header/models/res_partner.py
+++ /dev/null
@@ -1,32 +0,0 @@
-# Copyright 2022 Hunki Enterprises BV <https://hunki-enterprises.com>
-# License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl.html).
-from odoo import api, models
-
-
-class ResPartner(models.Model):
-    _inherit = "res.partner"
-
-    @api.model
-    def _notify(
-        self,
-        message,
-        rdata,
-        record,
-        force_send=False,
-        send_after_commit=True,
-        model_description=False,
-        mail_auto_delete=True,
-    ):
-        """Inhibit notifications if this is the notification for an incoming
-        autogenerated mail from another system"""
-        if self.env.context.get("mail_autogenerated_header"):
-            return True
-        return super()._notify(
-            message,
-            rdata,
-            record,
-            force_send=force_send,
-            send_after_commit=send_after_commit,
-            model_description=model_description,
-            mail_auto_delete=mail_auto_delete,
-        )
diff --git a/mail_autogenerated_header/tests/test_mail_autogenerated_header.py b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
index f97b15468..f018da2ba 100644
--- a/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
+++ b/mail_autogenerated_header/tests/test_mail_autogenerated_header.py
@@ -37,6 +37,11 @@ class TestMailAutogeneratedHeader(TransactionCase):
             "Message-Id",
             generate_tracking_message_id(42),
         )
+
+        self.env["mail.notification"].search(
+            [("res_partner_id", "=", demo_user.partner_id.id)]
+        ).unlink()
+
         partner_id = self.env["mail.thread"].message_process(
             "res.partner",
             self.message.as_string(),
@@ -55,7 +60,7 @@ class TestMailAutogeneratedHeader(TransactionCase):
             [("res_partner_id", "=", demo_user.partner_id.id)]
         )
         # mail is not autogenerated, should have generated mails
-        self.assertTrue(notifications.is_email)
+        self.assertTrue(notifications.notification_type == "email")
         notifications.unlink()

         reply.replace_header("Message-Id", "message_id4")
@@ -69,4 +74,4 @@ class TestMailAutogeneratedHeader(TransactionCase):
             [("res_partner_id", "=", demo_user.partner_id.id)]
         )
         # mail is autogenerated, shouldn't have generated mails
-        self.assertFalse(notifications.is_email)
+        self.assertFalse(notifications.notification_type == "email")
--
2.34.1


From d07edbee4842b727fcf48c98e0d3056ab8088ccf Mon Sep 17 00:00:00 2001
From: oca-ci <oca-ci@odoo-community.org>
Date: Fri, 22 Nov 2024 16:08:33 +0000
Subject: [UPD] Update mail_autogenerated_header.pot

---
 .../i18n/mail_autogenerated_header.pot               | 12 +++---------
 1 file changed, 3 insertions(+), 9 deletions(-)

diff --git a/mail_autogenerated_header/i18n/mail_autogenerated_header.pot b/mail_autogenerated_header/i18n/mail_autogenerated_header.pot
index af06f59b2..9cd8b4360 100644
--- a/mail_autogenerated_header/i18n/mail_autogenerated_header.pot
+++ b/mail_autogenerated_header/i18n/mail_autogenerated_header.pot
@@ -1,23 +1,18 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
-#	* mail_autogenerated_header
+# 	* mail_autogenerated_header
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 12.0\n"
+"Project-Id-Version: Odoo Server 17.0\n"
 "Report-Msgid-Bugs-To: \n"
-"Last-Translator: <>\n"
+"Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"

-#. module: mail_autogenerated_header
-#: model:ir.model,name:mail_autogenerated_header.model_res_partner
-msgid "Contact"
-msgstr ""
-
 #. module: mail_autogenerated_header
 #: model:ir.model,name:mail_autogenerated_header.model_mail_thread
 msgid "Email Thread"
@@ -27,4 +22,3 @@ msgstr ""
 #: model:ir.model,name:mail_autogenerated_header.model_ir_mail_server
 msgid "Mail Server"
 msgstr ""
-
--
2.34.1


From 64883674fdadf40dc3e6a1decc6bdc12287f470a Mon Sep 17 00:00:00 2001
From: OCA-git-bot <oca-git-bot@odoo-community.org>
Date: Fri, 22 Nov 2024 16:12:20 +0000
Subject: [BOT] post-merge updates

---
 mail_autogenerated_header/README.rst                    | 2 +-
 mail_autogenerated_header/static/description/index.html | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/mail_autogenerated_header/README.rst b/mail_autogenerated_header/README.rst
index c54a17c65..564a58ad0 100644
--- a/mail_autogenerated_header/README.rst
+++ b/mail_autogenerated_header/README.rst
@@ -7,7 +7,7 @@ Autogenerated headers
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:c85cef2766e4f4e18f525f38d82ccee67b9e934eee4ca3cccd9ae68783d11a26
+   !! source digest: sha256:bf712f83323c5adb84946e0caf8b89b9646eeb0e0f9a97899c820ee2823b678c
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
diff --git a/mail_autogenerated_header/static/description/index.html b/mail_autogenerated_header/static/description/index.html
index f8dd3b852..bd178a13c 100644
--- a/mail_autogenerated_header/static/description/index.html
+++ b/mail_autogenerated_header/static/description/index.html
@@ -367,7 +367,7 @@ ul.auto-toc {
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-!! source digest: sha256:c85cef2766e4f4e18f525f38d82ccee67b9e934eee4ca3cccd9ae68783d11a26
+!! source digest: sha256:bf712f83323c5adb84946e0caf8b89b9646eeb0e0f9a97899c820ee2823b678c
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
 <p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/social/tree/17.0/mail_autogenerated_header"><img alt="OCA/social" src="https://img.shields.io/badge/github-OCA%2Fsocial-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/social-17-0/social-17-0-mail_autogenerated_header"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/social&amp;target_branch=17.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
 <p>This module was written to mark Odoo’s emails as being autogenerated
--
2.34.1


From 54f32c1451ffc1c8aaeb915feed85b62bba0dcce Mon Sep 17 00:00:00 2001
From: mymage <stefano.consolaro@mymage.it>
Date: Sat, 23 Nov 2024 16:50:37 +0000
Subject: Added translation using Weblate (Italian)

---
 mail_autogenerated_header/i18n/it.po | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)
 create mode 100644 mail_autogenerated_header/i18n/it.po

diff --git a/mail_autogenerated_header/i18n/it.po b/mail_autogenerated_header/i18n/it.po
new file mode 100644
index 000000000..2cc6a6fc8
--- /dev/null
+++ b/mail_autogenerated_header/i18n/it.po
@@ -0,0 +1,25 @@
+# Translation of Odoo Server.
+# This file contains the translation of the following modules:
+# 	* mail_autogenerated_header
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: Odoo Server 17.0\n"
+"Report-Msgid-Bugs-To: \n"
+"Last-Translator: Automatically generated\n"
+"Language-Team: none\n"
+"Language: it\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: \n"
+"Plural-Forms: nplurals=2; plural=n != 1;\n"
+
+#. module: mail_autogenerated_header
+#: model:ir.model,name:mail_autogenerated_header.model_mail_thread
+msgid "Email Thread"
+msgstr ""
+
+#. module: mail_autogenerated_header
+#: model:ir.model,name:mail_autogenerated_header.model_ir_mail_server
+msgid "Mail Server"
+msgstr ""
--
2.34.1


From 001b8c3e1596a4655aad9bcb2e78b446891edd6b Mon Sep 17 00:00:00 2001
From: mymage <stefano.consolaro@mymage.it>
Date: Mon, 25 Nov 2024 08:14:48 +0000
Subject: Translated using Weblate (Italian)

Currently translated at 100.0% (2 of 2 strings)

Translation: social-17.0/social-17.0-mail_autogenerated_header
Translate-URL: https://translation.odoo-community.org/projects/social-17-0/social-17-0-mail_autogenerated_header/it/
---
 mail_autogenerated_header/i18n/it.po | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/mail_autogenerated_header/i18n/it.po b/mail_autogenerated_header/i18n/it.po
index 2cc6a6fc8..5c50400c8 100644
--- a/mail_autogenerated_header/i18n/it.po
+++ b/mail_autogenerated_header/i18n/it.po
@@ -6,20 +6,22 @@ msgid ""
 msgstr ""
 "Project-Id-Version: Odoo Server 17.0\n"
 "Report-Msgid-Bugs-To: \n"
-"Last-Translator: Automatically generated\n"
+"PO-Revision-Date: 2024-11-25 11:06+0000\n"
+"Last-Translator: mymage <stefano.consolaro@mymage.it>\n"
 "Language-Team: none\n"
 "Language: it\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: nplurals=2; plural=n != 1;\n"
+"X-Generator: Weblate 5.6.2\n"

 #. module: mail_autogenerated_header
 #: model:ir.model,name:mail_autogenerated_header.model_mail_thread
 msgid "Email Thread"
-msgstr ""
+msgstr "Discussione e-mail"

 #. module: mail_autogenerated_header
 #: model:ir.model,name:mail_autogenerated_header.model_ir_mail_server
 msgid "Mail Server"
-msgstr ""
+msgstr "Server di posta"
--
2.34.1
